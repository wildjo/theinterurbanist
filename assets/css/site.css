:root{
  --bg:#ffffff; --fg:#111; --muted:#555; --accent:#0c4a6e;
  --size:18px;
  --radius:16px; --border:3px;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font-family:'Noto Sans',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-size:var(--size);line-height:1.5;color:var(--fg);background:var(--bg)}
a{color:var(--accent);text-decoration:none}
a:focus,button:focus{outline:3px solid #333;outline-offset:2px}
img{max-width:100%;height:auto;display:block}

.skip{position:absolute;left:-9999px;top:auto}
.skip:focus{left:1rem;top:1rem;background:#fff;border:2px solid #000;padding:0.25rem 0.5rem;border-radius:8px}

.site-header{position:sticky;top:0;z-index:5;background:#fff;border-bottom:2px solid #000;padding:0.5rem 1rem}
.brand{display:flex;gap:1rem;align-items:center}
.brand-flag{width:min(100%,520px);height:auto}
.site-title{margin:0;font-size:clamp(1.25rem,2.5vw,2rem)}
.site-desc{margin:0.25rem 0 0;color:var(--muted)}
.controls{display:flex;gap:0.75rem;align-items:center;margin-top:0.5rem;flex-wrap:wrap}
.btn{font-size:1rem;padding:0.5rem 0.75rem;border:2px solid #000;background:#fff;cursor:pointer;border-radius:10px}
.btn:active{transform:translateY(1px)}

.content{padding:1rem}
.visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}

/* GRID by section (desktop) */
.sections-view{display:block}
.mode-timeline .sections-view{display:none}
.grid{
  display:grid;
  gap:1rem;
  grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
}
.col{ border: var(--border) solid #000; border-radius: var(--radius); padding: .5rem; background:#fff; min-width:0; }
.col-header{border-bottom:2px solid #000;margin-bottom:0.5rem}
.col-list{list-style:none;margin:0;padding:0;display:grid;gap:0.6rem}

/* Timeline */
.timeline-view{display:none}
.mode-timeline .timeline-view{display:block}
.timeline-list{list-style:none;margin:0;padding:0;display:grid;gap:1rem}

/* Cards */
.card{display:grid;grid-template-columns:160px 1fr;gap:0.75rem;border:var(--border) solid #000;padding:0.5rem;border-radius:14px;background:#fff}
.card-media{width:160px;height:120px;overflow:hidden;border:2px solid #000;border-radius:10px}
.card-title{margin:0 0 0.2rem 0;font-size:1.1rem}
.card-meta{margin:0 0 0.2rem 0;color:var(--muted)}
.card-summary{margin:0;color:#222}

/* Compact card for shortform: bigger image, minimal text */
.card-compact{grid-template-columns:1fr;align-items:center}
.card-compact .card-media{width:100%;height:auto;border-radius:12px}
.card-compact .card-body .card-summary{display:none}

/* Entry */
.entry{border:var(--border) solid #000;border-radius:var(--radius);padding:1rem;background:#fff;max-width:1000px;margin:0 auto}
.entry-header{margin-bottom:0.5rem}
.entry-title{margin:0 0 0.25rem 0;font-size:clamp(1.25rem,2.8vw,2rem)}
.meta{color:var(--muted)}
.hero img{border:var(--border) solid #000;border-radius:12px}
.gallery-strip{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:0.5rem}
.gallery-strip img{border:2px solid #000;border-radius:10px}

/* Lightbox */
.lb-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:999}
.lb-overlay.active{display:flex}
.lb-img{max-width:95vw;max-height:85vh}
.lb-ui{position:absolute;bottom:1rem;left:50%;transform:translateX(-50%);display:flex;gap:0.5rem}
.lb-btn{font-size:1.2rem;padding:0.4rem 0.7rem;border:2px solid #fff;background:rgba(0,0,0,.3);color:#fff;border-radius:10px}

.nav-arrows{position:sticky;bottom:0.5rem;display:flex;justify-content:space-between;pointer-events:none}
.nav-arrows .arrow{pointer-events:auto;font-size:2.25rem;padding:0.5rem 1rem;border:3px solid #000;background:#fff;border-radius:12px}

/* Footer */
.site-footer{margin-top:1rem;border-top:2px solid #000;padding:0.5rem 1rem}

/* Responsive */
/* Hide arrows by default on wide screens */
.nav-arrows{ display: none; }

/* Mobile/medium: turn sections into a horizontal strip with snap */
@media (max-width: 1100px){
  .grid{
    display: flex;
    overflow-x: auto;
    gap: 1rem;
    scroll-snap-type: x mandatory;
    padding-bottom: 2.5rem;
  }
  .col{
    flex: 0 0 88vw;   /* one section per "page" */
    scroll-snap-align: start;
    min-width: 0;
  }
  .nav-arrows{ display: flex; }  /* arrows are useful again */
}

/* Small phones: minor polish, keep the strip */
@media (max-width: 700px){
  .brand{ flex-direction: column; align-items: flex-start; }
  .card{ grid-template-columns: 1fr; }
  .card-media{ width: 100%; height: auto; }
}

/* Print */
@media print{
  .site-header, .nav-arrows, .controls{ display: none !important; }
  .col, .entry, .page, .tl-item .card{ border: 1px solid #000; }
}
