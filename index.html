---
layout: default
title: Home
---
{% assign now = site.time | date: "%s" %}

<section id="timeline" class="timeline-view" aria-label="All items in chronological order">
  <h2 class="visually-hidden">Timeline</h2>
  {% assign all = site.longform | concat: site.shortform | sort: 'date' | reverse %}
  <ul class="timeline-list">
  {% for entry in all %}
    {% assign expired = false %}
    {% if entry.expires_on %}{% assign exp = entry.expires_on | date: "%s" %}{% if exp < now %}{% assign expired = true %}{% endif %}{% endif %}
    {% unless expired %}
    <li class="tl-item tl-{{ entry.section | default: 'post' }}">
      <a class="card" href="{{ site.baseurl }}{{ entry.url }}">
        <div class="card-media">
          {% if entry.images and entry.images.size > 0 %}
            <img src="{{ site.baseurl }}{{ entry.images[0].src }}" alt="{{ entry.images[0].alt | default: '' }}">
          {% else %}
            <img src="{{ site.baseurl }}/assets/img/placeholder_card_400x300.png" alt="">
          {% endif %}
        </div>
        <div class="card-body">
          <h3 class="card-title">{{ entry.title }}</h3>
          <p class="card-meta"><time datetime="{{ entry.date | date_to_xmlschema }}">
            {% if entry.date %}{{ entry.date | date: "%b %-d, %Y" }}{% else %}Undated{% endif %}
          </time>{% if entry.type %} · {{ entry.type }}{% endif %}</p>
          {% if entry.summary %}<p class="card-summary">{{ entry.summary }}</p>{% endif %}
        </div>
      </a>
    </li>
    {% endunless %}
  {% endfor %}
  </ul>
</section>

<section id="sections" class="sections-view" aria-label="Browse by section">
  <h2 class="visually-hidden">Sections</h2>
  <div class="grid">
    {% for s in site.data.sections %}
      <div class="col">
        <header class="col-header"><h3>{{ s.label }}</h3></header>
        <ul class="col-list">
          {% if s.collection == "longform" %}
            {% assign list = site.longform | sort: 'date' | reverse %}
          {% else %}
            {% assign list = site.shortform %}
            {% if s.filter_field and s.filter_value %}
              {% assign list = list | where: s.filter_field, s.filter_value %}
            {% endif %}
            {% if s.sort == "starts_at" %}
              {% assign list = list | sort: 'starts_at' %}
            {% else %}
              {% assign list = list | sort: 'date' | reverse %}
            {% endif %}
          {% endif %}
          {% for entry in list %}
            {% assign expired = false %}
            {% if entry.expires_on %}{% assign exp = entry.expires_on | date: "%s" %}{% if exp < now %}{% assign expired = true %}{% endif %}{% endif %}
            {% unless expired %}
            <li>
              <a class="card {% if s.collection == 'shortform' %}card-compact{% endif %}" href="{{ site.baseurl }}{{ entry.url }}">
                <div class="card-media">
                  {% if entry.images and entry.images.size > 0 %}
                    <img src="{{ site.baseurl }}{{ entry.images[0].src }}" alt="{{ entry.images[0].alt | default: '' }}">
                  {% else %}
                    <img src="{{ site.baseurl }}/assets/img/placeholder_card_400x300.png" alt="">
                  {% endif %}
                </div>
                <div class="card-body">
                  <h4 class="card-title">{{ entry.title }}</h4>
                  <p class="card-meta">
                    <time datetime="{{ entry.date | date_to_xmlschema }}">
                      {% if entry.date %}{{ entry.date | date: "%b %-d, %Y" }}{% else %}Undated{% endif %}
                    </time>
                    {% if entry.type %} · {{ entry.type }}{% endif %}
                  </p>
                  {% if s.collection == 'longform' %}
                    {% if entry.summary %}<p class="card-summary">{{ entry.summary }}</p>{% endif %}
                  {% endif %}
                </div>
              </a>
            </li>
            {% endunless %}
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
</section>

<div class="nav-arrows" aria-hidden="false">
  <button class="arrow left" aria-label="Previous section">◀</button>
  <button class="arrow right" aria-label="Next section">▶</button>
</div>
