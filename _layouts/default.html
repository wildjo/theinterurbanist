<!doctype html>
<html lang="en">
<head>
  {% include head.html %}

{%- comment -%} Resolve an image for OG/Twitter without using filters in comparisons {%- endcomment -%}
{%- assign base = site.baseurl | default: '' -%}

{%- assign _src = '' -%}
{%- if page.images and page.images.size > 0 and page.images[0].src -%}
  {%- assign _src = page.images[0].src | to_s -%}
{%- elsif site.logo -%}
  {%- assign _src = site.logo | to_s -%}
{%- endif -%}

{%- assign og_image = '' -%}
{%- if _src != '' -%}
  {%- assign first_char = _src | slice: 0, 1 -%}
  {%- if first_char == '/' -%}
    {%- assign og_image = _src -%}
  {%- else -%}
    {%- assign cleaned = _src | replace: './', '' -%}
    {%- assign og_image = '/' | append: base | append: '/' | append: cleaned -%}
    {%- assign og_image = og_image | replace: '//', '/' -%}
  {%- endif -%}
{%- endif -%}

{%- if og_image != '' -%}
  <meta property="og:image" content="{{ og_image | absolute_url }}">
  <meta name="twitter:image" content="{{ og_image | absolute_url }}">
{%- endif -%}


  {%- comment -%} If the seo tag didnâ€™t set an image, ensure we provide one. {%- endcomment -%}
  <meta property="og:image" content="{{ ogimg }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ ogimg }}">
  {% if page.layout == 'entry' %}
    <meta property="og:type" content="article">
  {% endif %}
</head>
<body class="mode-sections">
  <header class="site-header">
    {% include header.html %}
    {% include tabs.html %}
  </header>

  <main id="content" class="content">
    {{ content }}
  </main>

  {% include footer.html %}
</body>
</html>
